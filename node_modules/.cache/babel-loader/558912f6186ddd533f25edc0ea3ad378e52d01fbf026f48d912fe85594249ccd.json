{"ast":null,"code":"var _jsxFileName = \"/Users/rakeshchowdary/Documents/Foundations-Software-Engineering/team3-Gaanam-project/src/InputDisplay.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport './css/InputDisplay.css';\nimport data from './data/dummyData.json';\nimport respData from './data/respData.json';\nimport { useLocation } from 'react-router-dom';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction InputDisplay() {\n  _s();\n  const location = useLocation();\n  const [selectedArtist, setSelectedArtist] = useState('');\n  const [artistName, setArtistName] = useState('');\n  const [artistPopularity, setArtistPopularity] = useState('');\n  const [artistUrl, setArtistUrl] = useState('');\n  const [loading, setLoading] = useState(false);\n  const handleClick = () => {\n    setLoading(true);\n    const artist = data.artists.find(artist => artist.name.toLowerCase() === selectedArtist.toLowerCase());\n    // fetch('http://127.0.0.1:5000/submit', {\n    //   method: 'POST',\n    //   headers: {\n    //     'Content-Type': 'application/json'\n    //   },\n    //   body: JSON.stringify({\"artist\": artist.name})\n    // })\n    //   .then(response => response.json())\n    //   .then(data => {\n    //     setArtistName(data[\"artist_name\"]);\n    //     setArtistPopularity(data[\"artist_popularity\"]);\n    //     setArtistUrl(data[\"artist_url\"]);\n    //     setLoading(false);\n    setTimeout(() => {\n      const newData = respData[artist.name];\n      setArtistName(newData.artist_name);\n      setArtistPopularity(newData.artist_popularity);\n      setArtistUrl(newData.artist_url);\n      setLoading(false);\n    }, 1000);\n    // })\n    // .catch(error => {\n    //   console.error('Error posting data:', error);\n    //   setLoading(false);\n    // });\n  };\n  useEffect(() => {\n    if (location.hash.includes('access_token')) {\n      // If access_token is found, call the login function\n      // You'll need to replace this with your actual login function\n      handleLogin();\n    }\n  }, [location]);\n  const handleLogin = () => {\n    // window.location.href = 'http://13.59.32.217/login';\n    window.location.href = 'http://127.0.0.1:5000/login';\n\n    // if (window.location.hash.includes('access_token')) {\n    //   // If so, call props.onLogin to display the Dashboard\n    //   props.onLogin();\n    // }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"input-display\",\n    children: [/*#__PURE__*/_jsxDEV(\"select\", {\n      className: \"input-field\",\n      value: selectedArtist,\n      onChange: e => setSelectedArtist(e.target.value),\n      children: [/*#__PURE__*/_jsxDEV(\"option\", {\n        value: \"\",\n        children: \"Select an artist\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), data.artists.map((artist, index) => /*#__PURE__*/_jsxDEV(\"option\", {\n        value: artist.name,\n        children: artist.name\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"display-button\",\n      onClick: handleClick,\n      children: \"Get Artist Info\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }, this), loading ? /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"progress-bar\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 18\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [artistName && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"display-text\",\n        children: [\"Artist Name : \", artistName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 26\n      }, this), artistPopularity && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"display-text\",\n        children: [\"Artist Popularity : \", artistPopularity]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 77,\n        columnNumber: 32\n      }, this), artistUrl && /*#__PURE__*/_jsxDEV(\"a\", {\n        href: artistUrl,\n        children: \"Spotify Profile\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 25\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"display-button\",\n      onClick: handleLogin,\n      children: \"Login with Spotify\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 66,\n    columnNumber: 5\n  }, this);\n}\n_s(InputDisplay, \"8MefzdQp1FLW7mq69441hym5rs8=\", false, function () {\n  return [useLocation];\n});\n_c = InputDisplay;\nexport default InputDisplay;\nvar _c;\n$RefreshReg$(_c, \"InputDisplay\");","map":{"version":3,"names":["React","useState","useEffect","data","respData","useLocation","jsxDEV","_jsxDEV","InputDisplay","_s","location","selectedArtist","setSelectedArtist","artistName","setArtistName","artistPopularity","setArtistPopularity","artistUrl","setArtistUrl","loading","setLoading","handleClick","artist","artists","find","name","toLowerCase","setTimeout","newData","artist_name","artist_popularity","artist_url","hash","includes","handleLogin","window","href","className","children","value","onChange","e","target","fileName","_jsxFileName","lineNumber","columnNumber","map","index","onClick","_c","$RefreshReg$"],"sources":["/Users/rakeshchowdary/Documents/Foundations-Software-Engineering/team3-Gaanam-project/src/InputDisplay.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './css/InputDisplay.css';\nimport data from './data/dummyData.json';\nimport respData from './data/respData.json';\nimport { useLocation } from 'react-router-dom';\n\nfunction InputDisplay() {\n  const location = useLocation();\n\n  const [selectedArtist, setSelectedArtist] = useState('');\n  const [artistName, setArtistName] = useState('');\n  const [artistPopularity, setArtistPopularity] = useState('');\n  const [artistUrl, setArtistUrl] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleClick = () => {\n    setLoading(true);\n    const artist = data.artists.find(artist => artist.name.toLowerCase() === selectedArtist.toLowerCase());\n    // fetch('http://127.0.0.1:5000/submit', {\n    //   method: 'POST',\n    //   headers: {\n    //     'Content-Type': 'application/json'\n    //   },\n    //   body: JSON.stringify({\"artist\": artist.name})\n    // })\n    //   .then(response => response.json())\n    //   .then(data => {\n    //     setArtistName(data[\"artist_name\"]);\n    //     setArtistPopularity(data[\"artist_popularity\"]);\n    //     setArtistUrl(data[\"artist_url\"]);\n    //     setLoading(false);\n      setTimeout(() => {\n        const newData = respData[artist.name]\n        setArtistName(newData.artist_name);\n        setArtistPopularity(newData.artist_popularity);\n        setArtistUrl(newData.artist_url);\n        setLoading(false);\n      }, 1000);\n      // })\n      // .catch(error => {\n      //   console.error('Error posting data:', error);\n      //   setLoading(false);\n      // });\n  };\n\n  useEffect(() => {\n    if (location.hash.includes('access_token')) {\n      // If access_token is found, call the login function\n      // You'll need to replace this with your actual login function\n      handleLogin();\n    }\n  }, [location]);\n\n\n  const handleLogin= () => {\n    // window.location.href = 'http://13.59.32.217/login';\n    window.location.href = 'http://127.0.0.1:5000/login';\n\n    // if (window.location.hash.includes('access_token')) {\n    //   // If so, call props.onLogin to display the Dashboard\n    //   props.onLogin();\n    // }\n  }\n\n  return (\n    <div className=\"input-display\">\n      <select className=\"input-field\" value={selectedArtist} onChange={e => setSelectedArtist(e.target.value)}>\n        <option value=\"\">Select an artist</option>\n        {data.artists.map((artist, index) => (\n          <option key={index} value={artist.name}>{artist.name}</option>\n        ))}\n      </select>\n      <button className=\"display-button\" onClick={handleClick}>Get Artist Info</button>\n      {loading ? <div className=\"progress-bar\"></div> : (\n        <div>\n          {artistName && <p className='display-text'>Artist Name : {artistName}</p>}\n          {artistPopularity && <p className='display-text'>Artist Popularity : {artistPopularity}</p>}\n          {artistUrl && <a href={artistUrl}>Spotify Profile</a>}\n        </div>\n      )}\n      <button className=\"display-button\" onClick={handleLogin}>Login with Spotify</button>\n    </div>\n  );\n}\n\nexport default InputDisplay;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}